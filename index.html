<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Slow Processing But Useful ‚Äî spbu.eu</title>
<meta name="description" content="Welcome to the Slow Processing But Useful space. Free tools for humans." />
<meta name="theme-color" content="#E7D6CE" />
<style>
:root {
--bg: #FAF7F5;
--paper: #FFFFFF;
--ink: #2E2826;
--muted: #5A3D36;
--line: #D0B8AD;
--bar: #E7D6CE;
}

*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
body {
margin: 0;
font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
background: var(--bg);
color: var(--ink);
line-height: 1.6;
-webkit-font-smoothing: antialiased;
}

header, footer {
background: var(--bar);
padding: 1rem;
border-bottom: 1px solid var(--line);
}

footer {
border-top: 1px solid var(--line);
border-bottom: none;
font-size: .95rem;
color: var(--muted);
text-align: center;
}

/* Header container */
.header-container {
display: flex;
align-items: center;
justify-content: center;
position: relative;
}

/* Logo on the left */
.header-logo {
position: absolute;
left: 1rem;
top: 50%;
transform: translateY(-50%);
}

.header-logo img {
height: 48px;
width: auto;
max-height: 64px;
max-width: 64px;
display: block;
}

/* Title centered */
header h1 {
margin: 0;
font-size: 1.8rem;
color: var(--muted);
font-weight: 700;
text-align: center;
flex: 1;
}

main {
max-width: 820px;
margin: 3rem auto;
padding: 0 1rem;
text-align: center;
}

h2 { font-size: 1.5rem; color: #7B5347; margin: 0; }
p { margin-top: 1rem; font-size: 1.1rem; }
.rule {
height: 1px;
background: linear-gradient(90deg, transparent, var(--line), transparent);
width: min(560px, 70%);
margin: 1.25rem auto 0;
}

/* Styles for news block */
.news-section {
max-width: 820px;
margin: 2rem auto 3rem;
padding: 0 1rem;
}

.news-header {
text-align: center;
margin-bottom: 1.5rem;
}

.news-header h2 {
font-size: 1.5rem;
color: #7B5347;
margin: 0 0 0.5rem 0;
}

.news-controls {
display: flex;
justify-content: center;
align-items: center;
gap: 1rem;
margin-top: 1rem;
}

.btn-refresh {
background: var(--bar);
color: var(--muted);
border: 1px solid var(--line);
font-family: inherit;
font-size: 0.95rem;
padding: 0.5rem 1.2rem;
border-radius: 4px;
cursor: pointer;
transition: all 0.2s;
}

.btn-refresh:hover {
background: var(--line);
border-color: var(--muted);
}

.news-feed {
margin-top: 1.5rem;
}

.rss-item {
background: var(--paper);
border: 1px solid var(--line);
border-radius: 6px;
padding: 1.25rem;
margin-bottom: 1.25rem;
text-align: left;
transition: box-shadow 0.2s;
}

.rss-item:hover {
box-shadow: 0 2px 8px rgba(46, 40, 38, 0.08);
}

.rss-title {
color: #7B5347;
font-size: 1.1rem;
font-weight: 600;
text-decoration: none;
display: block;
margin-bottom: 0.5rem;
}

.rss-title:hover {
text-decoration: underline;
}

.rss-date {
display: block;
color: var(--muted);
font-size: 0.9rem;
margin-bottom: 0.75rem;
font-style: italic;
}

.rss-content {
color: var(--ink);
font-size: 1rem;
line-height: 1.6;
white-space: pre-wrap;
word-wrap: break-word;
}

.loading, .error {
text-align: center;
padding: 1.5rem;
color: var(--muted);
font-style: italic;
}

.error {
color: #B74A3D;
background: #FFF0EE;
border: 1px solid #FFCCC5;
border-radius: 6px;
}

/* Responsive design for mobile */
@media (max-width: 600px) {
.header-container {
flex-direction: column;
position: static;
}

.header-logo {
position: static;
transform: none;
margin-bottom: 0.5rem;
}

.header-logo img {
height: 40px;
max-height: 48px;
max-width: 48px;
}

.rss-item {
padding: 1rem;
}
}

@media (prefers-color-scheme: dark) {
:root {
--bg: #151313;
--paper: #1B1817;
--ink: #F2ECE9;
--muted: #E6D5CD;
--line: #3B312E;
--bar: #2A2220;
}

.error {
color: #FFB3A8;
background: #2A1A18;
border-color: #4A2A28;
}
}
</style>
</head>
<body>

<header>
<div class="header-container">
<div class="header-logo">
<img src="spbueu_logo.png" alt="spbu.eu logo">
</div>
<h1>Slow Processing But Useful (spbu.eu)</h1>
</div>
</header>

<main>
<h2>Welcome</h2>
<p>
Welcome to the Slow Processing But Useful space. We will provide various interesting and useful tools soon.
</p>
<p>
You can subscribe to our Telegram channel, where we will share news and provide support for the services we launch:
<a href="https://t.me/spbueu" target="_blank" rel="noopener">@spbueu</a>.
</p>
<div class="rule" aria-hidden="true"></div>
</main>

<!-- News block from Telegram -->
<section class="news-section">
<div class="news-header">
<h2>Latest News</h2>
<div class="news-controls">
<button class="btn-refresh" onclick="loadRSS()">üîÑ Refresh News</button>
</div>
</div>
<div class="news-feed">
<div id="feed"></div>
</div>
</section>

<footer>
<span>¬© 2025-2026, Non-profit project based in EU</span>
</footer>

<script>
// JSON feed for @spbueu channel via CORS proxy
const RSS_BRIDGE_URL = "https://rssbridge.boldair.dev/?action=display&bridge=TelegramBridge&username=%40spbueu&format=Json";
const CORS_PROXY = "https://api.allorigins.win/get?url=";
const FEED_URL = CORS_PROXY + encodeURIComponent(RSS_BRIDGE_URL);

async function loadRSS() {
  const feedElement = document.getElementById('feed');
  feedElement.innerHTML = '<div class="loading">Loading news...</div>';
  try {
    const res = await fetch(FEED_URL, { mode: 'cors' });
    if (!res.ok) throw new Error("Error loading feed (HTTP " + res.status + ")");
    
    let data;
    const proxyData = await res.json();
    try {
      data = JSON.parse(proxyData.contents);
    } catch (e) {
      data = proxyData;
    }
    
    const items = data.items || [];
    feedElement.innerHTML = "";
    
    if (items.length === 0) {
      feedElement.innerHTML = '<div class="error">No news available.</div>';
      return;
    }
    
    items.slice(0, 20).forEach(item => {
      const title = item.title || "No title";
      const link = item.url || "#";
      const contentHtml = item.content_html || item.content || item.description || "";
      const date = item.date_modified ? new Date(item.date_modified).toLocaleString('en-US', {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      }) : "";
      
      // Strip HTML tags, keep only text
      const tempDiv = document.createElement('div');
      tempDiv.innerHTML = contentHtml;
      const plainText = tempDiv.textContent || tempDiv.innerText || "";
      
      const html = `
        <div class="rss-item">
          <a class="rss-title" href="${link}" target="_blank" rel="noopener noreferrer">${title}</a>
          ${date ? `<span class="rss-date">${date}</span>` : ''}
          ${plainText ? `<div class="rss-content">${plainText.trim()}</div>` : ''}
        </div>
      `;
      feedElement.innerHTML += html;
    });
  } catch (err) {
    feedElement.innerHTML = `<div class="error">‚ö†Ô∏è Failed to load news: ${err.message}</div>`;
  }
}

// Load on page open
loadRSS();
</script>

</body>
</html>
